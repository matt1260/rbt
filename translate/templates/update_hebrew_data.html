<!-- update_hebrew_data.html -->

{% extends 'base.html' %}

{% block content %}
<h1>Update Hebrew Data</h1>
<form method="post" id="update-hebrew-data">
    {% csrf_token %}
    <label for="strongs_number">Strongs Number:</label>
    <input type="text" id="strongs_number" name="strongs_number" required><br><br>
    <label for="english_word_update">English Word Update:</label>
    <input type="text" id="english_word_update" name="english_word_update" required><br><br>
    <input type="submit" value="Update">
</form>
<div id="updates"></div>
<script type="text/javascript">
    document.getElementById('update-hebrew-data').onsubmit = function(event) {
        event.preventDefault();
        
        const formData = new FormData(this);
        const xhr = new XMLHttpRequest();
        
        xhr.open('POST', '', true);
        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 3 && xhr.status === 200) {
                const updatesDiv = document.getElementById('updates');
                updatesDiv.innerHTML += xhr.responseText;
            }
        };
        
        xhr.send(new URLSearchParams(formData).toString());
    };
</script>
{% endblock %}
